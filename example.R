library(processx)
library(rjobscheduler)
#source('~/rjobscheduler/R/scheduler.R')
Lsize <<- 0
rear <<- new.env()
Lqueue <<- new.env()
enqueue(list(val='/home/khurram/jobs/job1.R'))
enqueue(list(val='/home/khurram/jobs/job2.R'))
enqueue(list(val='/home/khurram/jobs/job3.R'))

count <- 1
print(Lsize)
while(!isEmptyQueue()) {
  ll <- bottom()
  procname <- paste0('p',count)
  cat('Process Name:',procname,"\n")
  filepath <- ll$val
  Sys.sleep(1)
  procname <- process$new("Rscript", filepath)
  print(procname)
  dequeue();
  count <- count + 1
}